{% extends "base.html" %}
{% load static %}

{% block content %}
<h1>Business Application: {{ object.name }}</h1>

<div class="details">
    <p><strong>App Code:</strong> {{ object.appcode }}</p>
    <p><strong>Description:</strong> {{ object.description }}</p>
    <p><strong>Owner:</strong> {{ object.owner }}</p>
    <p><strong>Delegate:</strong> {{ object.delegate }}</p>
    <p><strong>ServiceNow Link:</strong>
        {% if object.servicenow %}
            <a href="{{ object.servicenow }}" target="_blank">ServiceNow</a>
        {% else %}
            N/A
        {% endif %}
    </p>
</div>

<h2>Associated Virtual Machines</h2>
{% if object.virtual_machines.exists %}
    <ul>
        {% for vm in object.virtual_machines.all %}
            <li>{{ vm.name }} ({{ vm.cluster.name }})</li>
        {% endfor %}
    </ul>
{% else %}
    <p>No associated virtual machines.</p>
{% endif %}

<a href="{% url 'businessapplication_edit' object.pk %}" class="btn btn-primary">Edit</a>
<a href="{% url 'businessapplication_list' %}" class="btn btn-secondary">Back to List</a>
{% endblock %}
